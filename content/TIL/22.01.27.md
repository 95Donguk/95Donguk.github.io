---
emoji: ❗
title: 22.01.27 TIL
date: '2022-01-27 00:00:00'
author: 95Donguk
tags: TIL
categories: TIL
---

# [자바로 구현하고 배우는 자료구조](https://www.boostcourse.org/cs204) 수강

> ## 해시 - 양수로 반환

### 8비트 2의 보수
* 0000 0000 = 0
* 0000 0001 = 1
* 0000 0010 = 2
* 0111 1110 = 126
* 0111 1111 = 127
* 1111 1111 = -1
* 1111 1110 = -2
* 1000 0001 = -127
* 1000 0000 = -128
* 자바에서 정수를 표현할 때 첫 숫자가 부호를 결정한다. (첫 숫자가 0이면 양수, 1이면 음수이다.)

hashCode 값과 16진법 숫자를 & 연산하면 첫 비트를 제외한 나머지 비트들은 그대로 남고 첫 비트가 1이면 0으로 바뀌고 0이면 바뀌지 않는다.
* 예) 
	* -1 & 0x7FFFFFFF -> 2147483647
	* -10 & 0x7FFFFFFF -> 2147483638 

그래서 hashCode 값을 테이블에 맞는 숫자로 바꾸려면
```java
public int hashCode(String s)
.
.
.
int hashval = data.hashCode(s);
hashval = hashval & 0x7FFFFFFF;
hashval = hashval % tableSize;
```

### 생각해보기
* 값을 양수로 변환해야 하는 이유는 무엇인가요?

> ## 해시 - LoadFactor 메소드
LoadFactor(적재율)는 **해시에 데이터가 얼마만큼 있는지** 알려준다.
적재율은 λ로 표기하고 자료 구조에 있는 항목 수를 자료 구조의 크기만큼 나눈 값이다. λ의 크기에 따라 해시 충돌이 일어나지 않도록 해시의 크기를 조절한다.
* λ = 0 (자료 구조가 비어 있음)
* λ = 0.5 (자료 구조가 반이 차 있음)
* λ = 1 (자료 구조가 완전히 차 있음)

### 생각해보기
* λ가 0인 경우, λ가 1인 경우는 각각 어떤 상황을 의미하나요?

> ## 해시 - 충돌 해결
### 해시 충돌을 해결하는 방법
1. 선형 조사법(linear probing)
	* 채우려는 공간이 이미 차 있다면, 비어있는 칸을 찾을 때까지 **다음 칸**을 확인하는 방법이다. 비어있는 칸을 찾아 그곳에 채운 후 위치가 바뀌었다는 사실을 알려야 한다.

2. 2차식 조사법(quadratic probing)
	* 다음 칸 대신 **1부터 순서대로 제곱하여 더한 칸**($1^2, 2^2, ...$)을 확인하는 방법이다. 테이블의 끝을 넘어간다면 % 연산을 해서 다시 테이블의 범위 안에 들어오게 한다.

3. 이중 해싱(double hashing)
	* **hashCode 함수가 2개** 있어 채우려는 공간이 이미 차 있다면 두 hashCode의 결과를 더한 값을 테이블 내의 위치가 되게 하는 방법이다.
	* 두 번째 hashCode 함수가 첫 번째 hashCode함수와 달라야 하고 0을 반환하면 안 된다.
	* 이중 해싱은 아예 다른 해시 함수를 사용할 수 있기 때문에 데이터를 더 골고루 넣을 수 있다. 하지만 해시 함수가 2개 필요하다는 단점이 있다. 첫 위치를 알기 위한 기본적인 해시 함수가 필요하고 그 자리가 차 있을 때 부르는 두 번째 해시 함수가 필요하다.

### 생각해보기
* 이중 해싱이 선형 조사법, 2차식 조사법보다 데이터를 더 골고루 넣을 수 있는 이유는 무엇인가요?

***
## 💡 틀렸거나 잘못된 정보가 있다면 망설임 없이 댓글로 알려주세요!

