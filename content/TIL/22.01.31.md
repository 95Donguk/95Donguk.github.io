---
emoji: â—
title: 22.01.31 TIL
date: '2022-01-31 00:00:00'
author: 95Donguk
tags: TIL
categories: TIL
---

# [ìë°”ë¡œ êµ¬í˜„í•˜ê³  ë°°ìš°ëŠ” ìë£Œêµ¬ì¡°](https://www.boostcourse.org/cs204) ìˆ˜ê°•

> ## í™ê³¼ íŠ¸ë¦¬ - ì†Œê°œ

### íŠ¸ë¦¬

![Heap&Tree_tree.PNG](./images/22.01.31/Heap&Tree_tree.PNG)
**ë…¸ë“œë¥¼ ë‚˜ë¬´ í˜•íƒœë¡œ ì—°ê²°í•œ êµ¬ì¡°**ë¥¼ íŠ¸ë¦¬ë¼ê³  í•œë‹¤. íŠ¸ë¦¬ì— ìˆëŠ” ê°ê°ì˜ ìš”ì†ŒëŠ” ë…¸ë“œì´ë©° ë…¸ë“œëŠ” **ë¶€ëª¨, ìì‹** í˜•íƒœë¡œ ì´ì–´ì ¸ ìˆë‹¤.
* ë¿Œë¦¬ (root): íŠ¸ë¦¬ì˜ ì‹œì‘ ë¶€ë¶„, ë¿Œë¦¬ë¥¼ í†µí•´ ë“¤ì–´ê°€ì„œ íŠ¸ë¦¬ë¥¼ íƒìƒ‰í•œë‹¤.
* ì (leaf): ìì‹ì´ ë”¸ë ¤ìˆì§€ ì•Šì€ ë¶€ë¶„
* ê°„ì„  (edge): ë‘ ë…¸ë“œë¥¼ ì—°ê²°í•˜ëŠ” ì„ , ë¿Œë¦¬ë¡œë¶€í„°ì˜ ê°„ì„ ì˜ ìˆ˜ì— ë”°ë¼ levelì„ ë‚˜ëˆˆë‹¤.

### ìƒê°í•´ë³´ê¸°
* ì–´ë–¤ ê²½ìš°ì— ë°ì´í„°ë¥¼ íŠ¸ë¦¬ í˜•íƒœë¡œ ì €ì¥í•˜ëŠ” ê²ƒì´ íš¨ê³¼ì ì¼ê¹Œìš”?

> ## í™ê³¼ íŠ¸ë¦¬ - í™:Tree levels

í™ì€ ìµœëŒ“ê°’ ë° ìµœì†Ÿê°’ì„ ì°¾ì•„ë‚´ëŠ” ì—°ì‚°ì„ ë¹ ë¥´ê²Œ í•˜ê¸° ìœ„í•´ ê³ ì•ˆëœ **ì™„ì „ì´ì§„íŠ¸ë¦¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ìë£Œêµ¬ì¡°**ì´ë‹¤.

í™ì—ëŠ” **ìµœëŒ€ í™**(max heap)ê³¼ **ìµœì†Œ í™**(min heap)ì´ ìˆë‹¤. ë¶€ëª¨ ë…¸ë“œê°€ ìì‹ ë…¸ë“œë³´ë‹¤ í¬ë©´ ìµœëŒ€ í™, ë°˜ëŒ€ì´ë©´ ìµœì†Œ í™ì´ë‹¤. ê°€ì¥ í° ìˆ«ìê°€ ë¿Œë¦¬ì— ìˆê²Œ í•˜ë ¤ë©´ ìµœëŒ€ í™, ê°€ì¥ ì‘ì€ ìˆ«ìë¡œë¶€í„° ì‹œì‘í•˜ë ¤ë©´ ìµœì†Œ í™ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
* parent > children <span style="color:red">MAX HEAP</span>
* parent < children <span style="color:red">MIN HEAP</span>

![Heap&Tree_heap.PNG](./images/22.01.31/Heap&Tree_heap.PNG)
|n(ë…¸ë“œì˜ ê°œìˆ˜)|level|height|$log_2(n+1)-1$|
|:---:|:---:|:---:|:---:|
|1|0|0|0|
|3|1|1|1|
|7|2|2|2|
|15|3|3|3|
* ë†’ì´ (height): ë¿Œë¦¬ì—ì„œë¶€í„° ê°€ì¥ ë¨¼ ìê¹Œì§€ ê°€ëŠ”ë° ê±°ì¹˜ê²Œ ë˜ëŠ” ê°„ì„ ì˜ ê°œìˆ˜ì´ë‹¤.
* $log_2(n+1)-1$ì€ heightì™€ ì¼ì¹˜í•˜ë¯€ë¡œ, íŠ¸ë¦¬ì— ìš”ì†Œê°€ ëª‡ ê°œ ìˆëŠ”ì§€ ì•Œë©´ íŠ¸ë¦¬ì˜ ë†’ì´ë¥¼ ê³„ì‚°í•  ìˆ˜ ìˆë‹¤.

### ìƒê°í•´ë³´ê¸°
*  ìµœëŒ€ í™, ìµœì†Œ í™ì—ì„œ ìµœëŒ“ê°’ê³¼ ìµœì†Ÿê°’ì€ ê°ê° ì–´ë””ì— ìœ„ì¹˜í•˜ë‚˜ìš”?

> ## í™ê³¼ íŠ¸ë¦¬ - í™:ì¶”ê°€ì™€ ì œê±°
í™ì— ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì œê±°í•  ë•Œ **í™ì˜ ê·œì¹™**ì„ ì§€ì¼œì•¼ í•œë‹¤.
* ìµœëŒ€ í™ì´ë©´ ë¶€ëª¨ ë…¸ë“œê°€ ìì‹ ë…¸ë“œë³´ë‹¤ ì»¤ì•¼ í•˜ê³  ìµœì†Œ í™ì€ ìì‹ ë…¸ë“œê°€ ë¶€ëª¨ ë…¸ë“œë³´ë‹¤ ì»¤ì•¼ í•œë‹¤.

### ë…¸ë“œ ì¶”ê°€

![Heap&Tree_heap_nodeadd.PNG](./images/22.01.31/Heap&Tree_heap_nodeadd.PNG)
1. ìƒˆë¡œìš´ ë…¸ë“œë¥¼ ë¹„ì–´ìˆëŠ” ê³µê°„ì— ì¶”ê°€í•œë‹¤.
2. ë¶€ëª¨ ë…¸ë“œë³´ë‹¤ í° ìˆ«ìì¸ì§€ í™•ì¸í•˜ê³  ë§Œì•½ ê·¸ë ‡ë‹¤ë©´ ë‘ ë…¸ë“œë¥¼ ë°”ê¾¼ë‹¤. (trickle up)

### ë£¨íŠ¸ ì œê±°

![Heap&Tree_heap_rootremove.PNG](./images/22.01.31/Heap&Tree_heap_rootremove.PNG)
1. ë£¨íŠ¸ë¥¼ ì œê±°í•œë‹¤.
2. íŠ¸ë¦¬ì˜ ë§ˆì§€ë§‰ ìš”ì†Œë¥¼ ë£¨íŠ¸ì— ë„£ì–´ì¤€ë‹¤.
3. ë£¨íŠ¸ì—ì„œ ì‹œì‘í•˜ì—¬ ë‘ ìì‹ ì¤‘ í° ë…¸ë“œì™€ ë°”ê¿”ì£¼ì–´ í™ì˜ ê·œì¹™ì„ ë§Œì¡±í•˜ê²Œ í•œë‹¤. (trickle down)
* ë­”ê°€ë¥¼ ì œê±°í•  ë•Œ í™ì—ì„œëŠ” í•­ìƒ ë£¨íŠ¸ë¥¼ ì œê±°í•´ì•¼ í•œë‹¤.

### ìƒê°í•´ë³´ê¸°
* ë£¨íŠ¸ë¥¼ ì œê±°í•  ë•Œ, íŠ¸ë¦¬ì˜ ë§ˆì§€ë§‰ ìš”ì†Œë¥¼ ë£¨íŠ¸ ìë¦¬ì— ë„£ì–´ì£¼ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?

> ## í™ê³¼ íŠ¸ë¦¬ - í™:TrickleUp í•¨ìˆ˜
ì™„ì „ì´ì§„íŠ¸ë¦¬ì´ê¸° ë•Œë¬¸ì— **ë…¸ë“œì˜ ìœ„ì¹˜**ëŠ” ì•„ë˜ì™€ ê°™ì€ ì„±ì§ˆì„ ê°€ì§„ë‹¤.
* children: 2 * parent + 1, 2 * parent + 2(ë£¨íŠ¸ì— ì íŒ ìˆ«ìê°€ 0ì¸ ê²½ìš°ì—ë§Œ ì„±ë¦½)
* parent: floor((child-1)/2)

```java
int lastposition; // ë°°ì—´ì— ëª‡ ê°œì˜ ìš”ì†Œê°€ ë“¤ì–´ìˆëŠ”ì§€ ê¸°ë¡
E[] array = (E[]) new Object[size];
public void add(E obj){
	array[++lastposition] = obj; // 1. ë…¸ë“œ ì¶”ê°€
	trickleup(lastposition); // 2. trickle up
}
public void swap(int from, int to){
	E tmp = array[from];
	array[from] = array[to];
	array[to] = tmp;
}
public void trickleup(int position){
	if (position == 0)
		return;
	int parent = (int) Math.floor((position-1)/2)
	if (((Comparable<E>) array[position]).compareTo(array.parent)>0) {
		swap(position, parent);
		trickleup(parent);
	}
}
```

### ìƒê°í•´ë³´ê¸°
* ìœ„ ì½”ë“œì—ì„œ lastposition ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?

> ## í™ê³¼ íŠ¸ë¦¬ - í™:TrickleDown í•¨ìˆ˜
```java
public E remove(){
	E tmp = array[0];
	swap(0, lastposition--); // ë£¨íŠ¸ì™€ ë§ˆì§€ë§‰ ë…¸ë“œë¥¼ ë°”ê¿”ì£¼ê³  lastpositionì„ ì¤„ì—¬ ë°°ì—´ì—ì„œ ì œê±°í•œë‹¤.
	trickleDown(0);
	return tmp;
}
public void trickleDown(int parent){
	int left = 2*parent + 1;
	int right = 2*parent + 2;
	// ë§ˆì§€ë§‰ì— ì™¼ìª½ ìì‹ì´ í´ ë•Œ
	if (left==lastposition && (((Comparable<E>)array[parent]).compareTo(array[left])<0){
		swap(parent, left)
		return;
	}
	// ë§ˆì§€ë§‰ì— ì˜¤ë¥¸ìª½ ìì‹ì´ í´ ë•Œ
	if (right==lastposition && (((Comparable<E>)array[parent]).compareTo(array[right])<0){
		swap(parent, right)
		return;
	}
	// ë§ˆì§€ë§‰ì— ë¶€ëª¨ê°€ í´ ë•Œ
	if (left >= lastposition || right >= lastposition)
		return;
	// ì™¼ìª½ ìì‹ì´ í´ ë•Œ
	if (array[left] > array[right] && array[parent] < array[left]) {
		swap(parent, left);
		trickleDown(left);
	}
	// ì˜¤ë¥¸ìª½ ìì‹ì´ í´ ë•Œ
	else if (array[parent] < array[right]){
		swap(parent, right);
		trickleDown(right);
	}
}
```

### ìƒê°í•´ë³´ê¸°
* ë£¨íŠ¸ì˜ ì •ë³´ë¥¼ ì—†ì• ëŠ” ëŒ€ì‹  swap í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ì œê±°í•˜ë©´ ì–´ë–¤ ì ì´ ì¢‹ë‚˜ìš”?

> ## í™ê³¼ íŠ¸ë¦¬ - í™:ì •ë ¬
í™ ê·œì¹™ì— ë§ê²Œ ìˆ«ìì˜ ìˆœì„œë¥¼ ë§ì¶”ëŠ” ê³¼ì •ì„ **í™ ì •ë ¬ ì•Œê³ ë¦¬ì¦˜**ì´ë¼ê³  í•œë‹¤. ì„ì˜ì˜ ìˆ«ìë“¤ì„ ë‚˜ì—´í•˜ê³  **í™ ê·œì¹™ì— ë§ê²Œ TrickleDownì„ ë°˜ë³µ**í•˜ë©´ ê·¸ ìˆ«ìë“¤ì´ ì •ë ¬ëœë‹¤.

í™ ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ì˜ ì‹œê°„ ë³µì¡ë„ëŠ” $O(nlogn)$ì´ë‹¤. ë‘ ìˆ˜ë¥¼ ë¹„êµí•´ì„œ í•˜ë‚˜ë¥¼ ê³ ë¥´ëŠ” ë°©ì‹ìœ¼ë¡œ ìˆ«ìë¥¼ ê³¨ë¼ë‚´ê¸° ë•Œë¬¸ì´ë‹¤. (ì´ nê°œì˜ ìˆ«ìë¥¼ $logn$ê°œì˜ ìˆ«ìì™€ ë¹„êµí•œë‹¤.)

ìˆ«ìë“¤ì˜ ìˆœì„œë¥¼ ë°”ê¿” ì •ë ¬í•˜ê¸° ë•Œë¬¸ì— ë°ì´í„°ì˜ ë³µì‚¬ë³¸ì„ ë§Œë“¤ í•„ìš”ê°€ ì—†ë‹¤ëŠ” ì ì´ í™ ì •ë ¬ì˜ ì¥ì ì´ë‹¤.

### ìƒê°í•´ë³´ê¸°
* í™ ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ ì™¸ì˜ ì •ë ¬ ë°©ë²•ì—ëŠ” ì–´ë–¤ ê²ƒì´ ìˆì„ê¹Œìš”?

***
## ğŸ’¡ í‹€ë ¸ê±°ë‚˜ ì˜ëª»ëœ ì •ë³´ê°€ ìˆë‹¤ë©´ ë§ì„¤ì„ ì—†ì´ ëŒ“ê¸€ë¡œ ì•Œë ¤ì£¼ì„¸ìš”!

